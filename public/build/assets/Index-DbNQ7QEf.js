import{e as j,R as g,j as e,H as f,L as i,d as b}from"./app-CH_0ZtnS.js";import{A as y,c as t}from"./app-layout-DGrPSwKY.js";import{A as N,a as v,b as k,c as A,d as D,e as C,f as R,g as w,h as S}from"./alert-dialog-BBXC-NKM.js";import{B as a}from"./index-BPhgqzTc.js";import{I as T}from"./input-GPuPMn74.js";/* empty css            */import"./separator-C36cHTq_.js";import"./sheet-B334ULMq.js";import"./index-CvKTl1sP.js";import"./index-DZ6Eq-gp.js";import"./index-DjcZmPqt.js";import"./index-C74OtYUb.js";function $({riskLevels:r,filters:c}){const{auth:{permissions:n}}=j().props,[l,d]=g.useState(c.search||""),o=s=>{s.preventDefault(),t.index.get({query:{search:l}})},m=n.includes("risk-levels.create"),h=n.includes("risk-levels.print"),x=n.includes("risk-levels.edit"),p=n.includes("risk-levels.delete");return e.jsxs(y,{breadcrumbs:[{title:"Tingkat Risiko",href:t.index.url()}],children:[e.jsx(f,{title:"Tingkat Risiko"}),e.jsxs("div",{className:"container-admin space-y-8",children:[e.jsx("div",{className:"card p-6 md:p-8 flex items-center justify-between",children:e.jsx("h2",{className:"section-title",children:"Tingkat Risiko"})}),e.jsx("div",{className:"flex justify-between items-center",children:e.jsxs("div",{className:"flex gap-2",children:[m&&e.jsx(a,{asChild:!0,className:"btn-modern bg-primary text-primary-foreground hover:bg-secondary hover:text-secondary-foreground",children:e.jsx(i,{href:t.create.url(),children:"Tambah"})}),h&&e.jsx(a,{type:"button",className:"btn-modern bg-secondary text-secondary-foreground hover:bg-secondary/90 hover:text-white",onClick:()=>window.open(t.print.url(),"_blank"),children:"Cetak"})]})}),e.jsxs("div",{className:"card p-6 md:p-8 space-y-6 min-h-[60vh]",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"section-title",children:"Daftar Tingkat Risiko"}),e.jsxs("form",{onSubmit:o,className:"flex gap-2",children:[e.jsx(T,{type:"text",placeholder:"Cari...",value:l,onChange:s=>d(s.target.value),className:"input-modern"}),e.jsx(a,{type:"submit",className:"btn-modern bg-primary text-primary-foreground hover:bg-secondary hover:text-secondary-foreground",children:"Cari"})]})]}),e.jsx("div",{className:"rounded-md border overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-muted",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-3 text-center",children:"Kode"}),e.jsx("th",{className:"p-3 text-center",children:"Nama"}),e.jsx("th",{className:"p-3 text-center",children:"Keterangan"}),e.jsx("th",{className:"p-3 text-center",children:"Saran"}),e.jsx("th",{className:"p-3 text-center",children:"Aksi"})]})}),e.jsxs("tbody",{children:[r.data.map(s=>e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"p-3 font-medium text-center",children:s.code}),e.jsx("td",{className:"p-3 text-center",children:s.name}),e.jsx("td",{className:"p-3 text-center",children:s.description}),e.jsx("td",{className:"p-3 text-center",children:s.suggestion}),e.jsx("td",{className:"p-3 text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[x&&e.jsx(a,{asChild:!0,size:"sm",className:"btn-modern bg-secondary text-secondary-foreground hover:bg-primary hover:text-primary-foreground",children:e.jsx(i,{href:t.edit.url(s.id),children:"Edit"})}),p&&e.jsxs(N,{children:[e.jsx(v,{asChild:!0,children:e.jsx(a,{size:"sm",variant:"destructive",className:"btn-modern",children:"Hapus"})}),e.jsxs(k,{children:[e.jsxs(A,{children:[e.jsx(D,{children:"Anda yakin?"}),e.jsx(C,{children:"Data yang dihapus tidak dapat dikembalikan!"})]}),e.jsxs(R,{children:[e.jsx(w,{children:"Batal"}),e.jsx(S,{onClick:()=>{b.delete(t.destroy.url(s.id),{preserveScroll:!0})},children:"Ya, hapus!"})]})]})]})]})})]},s.id)),r.data.length===0&&e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"p-3 text-center",children:"No risk levels found."})})]})]})}),r.links&&r.links.length>3&&e.jsx("div",{className:"flex justify-center mt-4 space-x-2",children:r.links.map((s,u)=>e.jsx(i,{href:s.url||"#",className:`px-3 py-1 border rounded-md ${s.active?"bg-primary text-primary-foreground":"bg-background hover:bg-muted"}`,dangerouslySetInnerHTML:{__html:s.label}},u))})]})]})]})}export{$ as default};
